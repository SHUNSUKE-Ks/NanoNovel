# AIãƒãƒ™ãƒ«/TRPGã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ çµ±åˆè¦ä»¶å®šç¾©æ›¸ãƒ»ä»•æ§˜æ›¸

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v2.0  
**æœ€çµ‚æ›´æ–°**: 2026-01-07  
**ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¨®åˆ¥**: çµ±åˆè¦ä»¶å®šç¾©æ›¸ãƒ»ä»•æ§˜æ›¸

---

## ğŸ“‘ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#2-ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
3. [ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆä»•æ§˜](#3-ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆä»•æ§˜)
4. [ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ï¼ˆJSON Schemaï¼‰](#4-ãƒ‡ãƒ¼ã‚¿ä»•æ§˜json-schema)
5. [ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ä»•æ§˜](#5-ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ä»•æ§˜)
6. [ç”»é¢æ§‹æˆä»•æ§˜](#6-ç”»é¢æ§‹æˆä»•æ§˜)
7. [ã‚³ã‚¢æ©Ÿèƒ½ä»•æ§˜](#7-ã‚³ã‚¢æ©Ÿèƒ½ä»•æ§˜)
8. [é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»](#8-é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»)
9. [è¨­è¨ˆåŸå‰‡ã¨ãƒ«ãƒ¼ãƒ«](#9-è¨­è¨ˆåŸå‰‡ã¨ãƒ«ãƒ¼ãƒ«)

---

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ğŸ¯ ç›®çš„

Google AI Studio + ãƒŠãƒãƒãƒŠãƒŠé€£æºã«ã‚ˆã‚Šã€ä»¥ä¸‹ã‚’å®Ÿç¾ã™ã‚‹AIé§†å‹•ãƒãƒ™ãƒ«ã‚²ãƒ¼ãƒ åŸºç›¤ã‚’æ§‹ç¯‰ã™ã‚‹ï¼š

- ã‚·ãƒ¼ãƒ³åˆ‡æ›¿ã”ã¨ã«**èƒŒæ™¯ãƒ»ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆ**
- ãƒãƒ™ãƒ«ã‚²ãƒ¼ãƒ UIã§ç‰©èªã‚’é€²è¡Œ
- ç”Ÿæˆã—ãŸç”»åƒã‚’**ã‚¿ã‚°ä»˜ãã§ç®¡ç†ãƒ»å†åˆ©ç”¨**
- TRPGçš„ãªåˆ†å²ãƒ»é¸æŠè‚¢ã«å¯¾å¿œ
- ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
- ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ã‚®ãƒ£ãƒ©ãƒªãƒ¼æ©Ÿèƒ½

### ğŸ® ä¸»è¦æ©Ÿèƒ½

| æ©Ÿèƒ½ã‚«ãƒ†ã‚´ãƒª | å†…å®¹ |
|------------|------|
| **ãƒãƒ™ãƒ«ãƒ‘ãƒ¼ãƒˆ** | ã‚·ãƒŠãƒªã‚ªé€²è¡Œã€é¸æŠè‚¢åˆ†å²ã€ã‚¿ã‚°é§†å‹•æ¼”å‡º |
| **ãƒãƒˆãƒ«ãƒ‘ãƒ¼ãƒˆ** | æˆ¦é—˜ãƒ­ã‚¸ãƒƒã‚¯ã€æ•µAIã€ã‚¹ã‚­ãƒ«å‡¦ç† |
| **ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** | ç”»åƒã‚®ãƒ£ãƒ©ãƒªãƒ¼ã€Tipsé–²è¦§ã€é€²æ—ç®¡ç† |
| **AIç”»åƒç”Ÿæˆ** | ãƒŠãƒãƒãƒŠãƒŠé€£æºã«ã‚ˆã‚‹è‡ªå‹•ç”»åƒç”Ÿæˆ |
| **ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰** | é€²è¡ŒçŠ¶æ…‹ã®æ°¸ç¶šåŒ– |

### ğŸ›  æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React + Vite
- **AIé€£æº**: Google AI Studio + ãƒŠãƒãƒãƒŠãƒŠ
- **çŠ¶æ…‹ç®¡ç†**: useReducer / Zustand
- **ãƒ‡ãƒ¼ã‚¿å½¢å¼**: JSON
- **ãƒ‡ãƒ—ãƒ­ã‚¤**: PWAå¯¾å¿œ

---

## 2. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ğŸ§© ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

```
[UI (Web/PWA)]
   â”‚
   â”œâ”€ JSON Data Layer
   â”‚   â”œâ”€ scenario.json
   â”‚   â”œâ”€ characters.json
   â”‚   â”œâ”€ enemy.json
   â”‚   â”œâ”€ skill.json
   â”‚   â”œâ”€ tips.json
   â”‚   â”œâ”€ sound.json
   â”‚   â””â”€ image_registry.json
   â”‚
   â”œâ”€ Core Layer
   â”‚   â”œâ”€ Managers (Asset/Sound/Save/Tag)
   â”‚   â”œâ”€ Hooks (useScenario/useSound/useAsset)
   â”‚   â””â”€ Utilities
   â”‚
   â”œâ”€ Parts Layer
   â”‚   â”œâ”€ Novel Part
   â”‚   â”œâ”€ Battle Part
   â”‚   â””â”€ Collection Part
   â”‚
   â””â”€ Google AI Studio
       â”œâ”€ ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
       â””â”€ ç”»åƒç”Ÿæˆï¼ˆãƒŠãƒãƒãƒŠãƒŠï¼‰
```

### ğŸ”„ ãƒ‘ãƒ¼ãƒˆåˆ†é›¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

å„ãƒ‘ãƒ¼ãƒˆã¯å®Œå…¨ã«ç‹¬ç«‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚Œã€ä»¥ä¸‹ãŒå¯èƒ½ï¼š

- âœ… åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã‚³ãƒ”ãƒšç§»æ¤
- âœ… æ–°ãƒ‘ãƒ¼ãƒˆå·®ã—æ›¿ãˆ
- âœ… å˜ä½“ã‚¢ãƒ—ãƒªåŒ–ï¼ˆãƒãƒ™ãƒ«ã®ã¿/ãƒãƒˆãƒ«ã®ã¿ï¼‰

```
AppShellï¼ˆå…±é€šï¼‰
   â”œâ”€ PartRouter
   â”‚     â”œâ”€ NovelPart
   â”‚     â”œâ”€ BattlePart
   â”‚     â””â”€ CollectionPart
   â”‚
   â”œâ”€ Coreï¼ˆå…±é€šãƒ­ã‚¸ãƒƒã‚¯ï¼‰
   â””â”€ Assets / Data
```

---

## 3. ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆä»•æ§˜

### ğŸ“ æ¨å¥¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
src/
 â”œâ”€ app/                     # ã‚¢ãƒ—ãƒªèµ·ç‚¹
 â”‚   â”œâ”€ App.tsx
 â”‚   â””â”€ PartRouter.tsx
 â”‚
 â”œâ”€ parts/                   # â˜…å·®ã—æ›¿ãˆå¯èƒ½ãƒ‘ãƒ¼ãƒˆç¾¤
 â”‚   â”œâ”€ novel/
 â”‚   â”‚    â”œâ”€ screens/       # UIå°‚ç”¨
 â”‚   â”‚    â”‚   â”œâ”€ TitleScreen.tsx
 â”‚   â”‚    â”‚   â”œâ”€ ChapterScreen.tsx
 â”‚   â”‚    â”‚   â”œâ”€ NovelScreen.tsx
 â”‚   â”‚    â”‚   â””â”€ ResultScreen.tsx
 â”‚   â”‚    â”œâ”€ components/
 â”‚   â”‚    â”œâ”€ hooks/
 â”‚   â”‚    â”œâ”€ NovelManager.ts
 â”‚   â”‚    â”œâ”€ README.md      # ãƒ‘ãƒ¼ãƒˆä»•æ§˜
 â”‚   â”‚    â””â”€ index.ts
 â”‚   â”‚
 â”‚   â”œâ”€ battle/
 â”‚   â”‚    â”œâ”€ screens/
 â”‚   â”‚    â”œâ”€ components/
 â”‚   â”‚    â”œâ”€ hooks/
 â”‚   â”‚    â”œâ”€ BattleManager.ts
 â”‚   â”‚    â”œâ”€ README.md
 â”‚   â”‚    â””â”€ index.ts
 â”‚   â”‚
 â”‚   â””â”€ collection/
 â”‚        â”œâ”€ screens/
 â”‚        â”œâ”€ components/
 â”‚        â”œâ”€ CollectionManager.ts
 â”‚        â”œâ”€ README.md
 â”‚        â””â”€ index.ts
 â”‚
 â”œâ”€ core/                    # â˜…å®Œå…¨å…±é€šã‚¨ãƒ³ã‚¸ãƒ³å±¤
 â”‚   â”œâ”€ managers/
 â”‚   â”‚    â”œâ”€ AssetManager.ts
 â”‚   â”‚    â”œâ”€ SoundManager.ts
 â”‚   â”‚    â”œâ”€ SaveManager.ts
 â”‚   â”‚    â”œâ”€ TagResolver.ts
 â”‚   â”‚    â””â”€ ScenarioManager.ts
 â”‚   â”‚
 â”‚   â”œâ”€ hooks/
 â”‚   â”‚    â”œâ”€ useGameState.ts
 â”‚   â”‚    â”œâ”€ useScenario.ts
 â”‚   â”‚    â”œâ”€ useAsset.ts
 â”‚   â”‚    â”œâ”€ useSound.ts
 â”‚   â”‚    â”œâ”€ useFlags.ts
 â”‚   â”‚    â”œâ”€ useSaveData.ts
 â”‚   â”‚    â””â”€ useTagMatch.ts
 â”‚   â”‚
 â”‚   â”œâ”€ stores/              # reducer / Zustand
 â”‚   â”œâ”€ types/
 â”‚   â””â”€ README.md
 â”‚
 â”œâ”€ data/                    # â˜…JSONç¾¤ï¼ˆä»•æ§˜ã®æ­£ï¼‰
 â”‚   â”œâ”€ scenario.json
 â”‚   â”œâ”€ characters.json
 â”‚   â”œâ”€ enemy.json
 â”‚   â”œâ”€ skill.json
 â”‚   â”œâ”€ tips.json
 â”‚   â”œâ”€ sound.json
 â”‚   â”œâ”€ image_registry.json
 â”‚   â”œâ”€ title.json
 â”‚   â”œâ”€ game_config.json
 â”‚   â””â”€ README.md            # â˜…æœ€é‡è¦
 â”‚
 â”œâ”€ assets/                  # ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ç®¡ç†
 â”‚   â”œâ”€ bg/                  # èƒŒæ™¯ç”»åƒ
 â”‚   â”œâ”€ chara/               # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”»åƒ
 â”‚   â”œâ”€ item/                # ã‚¢ã‚¤ãƒ†ãƒ ç”»åƒ
 â”‚   â”œâ”€ effect/              # æ¼”å‡ºç”»åƒãƒ»å‹•ç”»
 â”‚   â”œâ”€ skill/               # ã‚¹ã‚­ãƒ«ã‚¢ã‚¤ã‚³ãƒ³
 â”‚   â”œâ”€ ui/                  # UIç´ æ
 â”‚   â”œâ”€ sound/               # éŸ³æ¥½ãƒ»åŠ¹æœéŸ³ï¼ˆå°†æ¥ï¼‰
 â”‚   â”‚   â”œâ”€ bgm/
 â”‚   â”‚   â””â”€ se/
 â”‚   â”œâ”€ tags/
 â”‚   â”‚   â””â”€ tags_for_notion.csv
 â”‚   â””â”€ README.md
 â”‚
 â””â”€ GameStyles/              # ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
```

### ğŸ“‹ README.mdé…ç½®ãƒ«ãƒ¼ãƒ«

å„ãƒ•ã‚©ãƒ«ãƒ€ã«å¿…ãšREADME.mdã‚’é…ç½®ï¼š

| é…ç½®å ´æ‰€ | ç›®çš„ |
|---------|------|
| `parts/*/README.md` | ãƒ‘ãƒ¼ãƒˆè²¬å‹™ãƒ»ä¾å­˜é–¢ä¿‚æ˜è¨˜ |
| `core/README.md` | å…±é€šå±¤ãƒ«ãƒ¼ãƒ«å®šç¾© |
| `data/README.md` | **ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ã®æ­£ï¼ˆæœ€é‡è¦ï¼‰** |
| `assets/README.md` | ã‚¢ã‚»ãƒƒãƒˆå‘½åè¦å‰‡ |

---

## 4. ãƒ‡ãƒ¼ã‚¿ä»•æ§˜ï¼ˆJSON Schemaï¼‰

### 4.1 title.json

```json
{
  "title": "string",
  "subtitle": "string",
  "backgroundTag": "string",
  "logoPath": "string",
  "ui": {
    "startLabel": "string",
    "continueLabel": "string"
  }
}
```

**ä¾‹**:
```json
{
  "title": "AI Chronicles",
  "subtitle": "ç”Ÿæˆã•ã‚Œã‚‹ç‰©èª",
  "backgroundTag": "bg_castle_sunset_1280x720",
  "logoPath": "/assets/ui/logo.png",
  "ui": {
    "startLabel": "Start",
    "continueLabel": "Continue"
  }
}
```

---

### 4.2 characters.json

```json
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "defaultTags": ["string"],
    "portraitTag": "string",
    "promptTemplate": "string",
    "status": {
      "hp": "number",
      "mp": "number",
      "str": "number",
      "dex": "number",
      "int": "number"
    },
    "skills": ["skill_id"]
  }
]
```

**ä¾‹**:
```json
[
  {
    "id": "hero",
    "name": "ä¸»äººå…¬",
    "description": "è¨˜æ†¶ã‚’å¤±ã£ãŸå‰£å£«",
    "defaultTags": ["chara_hero_normal_1024x1024"],
    "portraitTag": "chara_hero_face_512x512",
    "promptTemplate": "young swordsman, fantasy, anime style",
    "status": {
      "hp": 120,
      "mp": 40,
      "str": 15,
      "dex": 12,
      "int": 8
    },
    "skills": ["slash", "guard"]
  }
]
```

---

### 4.3 scenario.jsonï¼ˆä¸­æ ¸ï¼‰

#### Schema

```json
[
  {
    "storyID": "string",           // EP_CH_TXTå½¢å¼ï¼ˆä¾‹: 01_01_01ï¼‰
    "speaker": "string",
    "text": "string",
    "tags": ["string"],            // ã‚¿ã‚°é§†å‹•åˆ¶å¾¡
    "event": {
      "type": "CHOICE | BATTLE | FLAG | ITEM | JUMP | NONE",
      "payload": {}
    },
    "flags": {
      "string": "boolean | number | string"
    },
    "effects": ["string"],
    "tips": ["tip_id"],
    "note": "string"
  }
]
```

#### storyIDå‘½åè¦å‰‡

```
EP_CH_TXT

ä¾‹:
01_01_01  â†’ Episode 1, Chapter 1, Text 1
01_01_02  â†’ Episode 1, Chapter 1, Text 2
02_03_015 â†’ Episode 2, Chapter 3, Text 15
```

**æ¡ãƒ«ãƒ¼ãƒ«**:

| åŒºåˆ† | æ¡æ•° | èª¬æ˜ |
|-----|------|------|
| EP  | 2æ¡  | ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ |
| CH  | 2æ¡  | ãƒãƒ£ãƒ—ã‚¿ãƒ¼ |
| TXT | 2ã€œ4æ¡ | ãƒ†ã‚­ã‚¹ãƒˆé€£ç•ª |

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… äººé–“ãŒè¦‹ã¦æ„å‘³ãŒåˆ†ã‹ã‚‹
- âœ… ã‚½ãƒ¼ãƒˆãŒå®‰å®š
- âœ… Notion/CSV/GitHubé€£æºã—ã‚„ã™ã„
- âœ… æ­£è¦è¡¨ç¾ãƒ‘ãƒ¼ã‚¹ãŒç°¡å˜

#### event.payloadè©³ç´°

**CHOICE**:
```json
{
  "choices": [
    {
      "label": "string",
      "nextStoryID": "string",
      "conditions": {
        "flag": "string",
        "operator": "== | != | > | <",
        "value": "any"
      }
    }
  ]
}
```

**BATTLE**:
```json
{
  "enemyIDs": ["character_id"],
  "reward": {
    "items": ["item_id"],
    "exp": "number"
  }
}
```

**ITEM**:
```json
{
  "itemID": "string",
  "count": "number"
}
```

**FLAG**:
```json
{
  "key": "string",
  "value": "any"
}
```

**JUMP**:
```json
{
  "nextStoryID": "string"
}
```

#### å®Ÿè£…ä¾‹

```json
{
  "storyID": "01_01_01",
  "speaker": "ä¸»äººå…¬",
  "text": "ã“ã®æ£®ã¯â€¦å¦™ã«é™ã‹ã ã€‚",
  "tags": ["bg_forest_morning_1280x720"],
  "event": {
    "type": "CHOICE",
    "payload": {
      "choices": [
        { "label": "é€²ã‚€", "nextStoryID": "01_01_02" },
        { "label": "æˆ»ã‚‹", "nextStoryID": "01_01_03" }
      ]
    }
  },
  "flags": {
    "entered_forest": true
  },
  "effects": ["fade_in"],
  "tips": ["forest"],
  "note": "åˆå›åˆ†å²"
}
```

---

### 4.4 enemy.json

```json
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "imageTag": "string",
    "promptTemplate": "string",
    "status": {
      "hp": "number",
      "mp": "number",
      "str": "number",
      "dex": "number",
      "int": "number"
    },
    "skills": ["skill_id"],
    "drop": {
      "items": ["item_id"],
      "exp": "number",
      "gold": "number"
    },
    "ai": {
      "pattern": "aggressive | defensive | random",
      "thinkDelay": "number"
    }
  }
]
```

**ä¾‹**:
```json
{
  "id": "goblin",
  "name": "ã‚´ãƒ–ãƒªãƒ³",
  "description": "æ£®ã«æ£²ã‚€å°å‹ã®é­”ç‰©ã€‚",
  "imageTag": "chara_enemy_goblin_1024x1024",
  "promptTemplate": "small goblin monster, fantasy, anime style",
  "status": {
    "hp": 40,
    "mp": 0,
    "str": 8,
    "dex": 10,
    "int": 3
  },
  "skills": ["bite", "slash"],
  "drop": {
    "items": ["item_small_potion"],
    "exp": 15,
    "gold": 5
  },
  "ai": {
    "pattern": "aggressive",
    "thinkDelay": 0.8
  }
}
```

---

### 4.5 skill.json

```json
[
  {
    "id": "string",
    "name": "string",
    "description": "string",
    "iconTag": "string",
    "cost": {
      "mp": "number",
      "cooldown": "number"
    },
    "power": {
      "base": "number",
      "scale": "str | int | dex"
    },
    "target": "enemy | self | ally | all",
    "effects": ["effect_id"],
    "tags": ["string"]
  }
]
```

**ä¾‹**:
```json
{
  "id": "slash",
  "name": "æ–¬æ’ƒ",
  "description": "å‰£ã§æ•µã‚’åˆ‡ã‚Šã¤ã‘ã‚‹åŸºæœ¬æ”»æ’ƒã€‚",
  "iconTag": "item_skill_slash_256x256",
  "cost": {
    "mp": 0,
    "cooldown": 0
  },
  "power": {
    "base": 10,
    "scale": "str"
  },
  "target": "enemy",
  "effects": ["hit_slash"],
  "tags": ["physical", "melee"]
}
```

---

### 4.6 tips.json

```json
[
  {
    "id": "string",
    "title": "string",
    "description": "string",
    "relatedTags": ["string"],
    "unlockCondition": {
      "flag": "string",
      "value": "any"
    }
  }
]
```

**ä¾‹**:
```json
{
  "id": "forest",
  "title": "é­”å¢ƒã®æ£®",
  "description": "å¤ä»£é­”åŠ›ã«æ±šæŸ“ã•ã‚ŒãŸå±é™ºãªæ£®ã€‚",
  "relatedTags": ["bg_forest_morning_1280x720"],
  "unlockCondition": {
    "flag": "entered_forest",
    "value": true
  }
}
```

---

### 4.7 sound.json

> âš ï¸ ç¾æ™‚ç‚¹ã§ã¯éŸ³æºãªã—ã€‚é›°å›²æ°—ç®¡ç†ãƒ»å°†æ¥ä½œæ›²ç”¨ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€‚

```json
[
  {
    "id": "string",
    "scene": "title | chapter | prologue | novel | battle | result",
    "title": "string",
    "key": "none",               // ä½œæ›²æœªç´å“ã®ãŸã‚å›ºå®š
    "mood": "string",
    "tempo": "number",
    "chordProgression": ["string"],
    "tags": ["string"],          // å†ç”Ÿãƒˆãƒªã‚¬ãƒ¼ç”¨
    "path": "none",              // ç´å“å¾Œã«æ¥ç¶š
    "note": "string"
  }
]
```

**ä¾‹**:
```json
{
  "id": "bgm_forest_01",
  "scene": "novel",
  "title": "é™å¯‚ã®æ£®",
  "key": "none",
  "mood": "ç¥ç§˜ãƒ»ç·Šå¼µ",
  "tempo": 70,
  "chordProgression": ["Dm", "Bb", "F", "C"],
  "tags": ["bg_forest", "scene_forest"],
  "path": "none",
  "note": "å¾Œæ—¥BGMç´å“äºˆå®š"
}
```

#### å†ç”Ÿä»•æ§˜ï¼ˆã‚¿ã‚°é§†å‹•ï¼‰

```typescript
// tagsã«ä¸€è‡´ã™ã‚‹soundã‚’æ¤œç´¢ã—ã¦å†ç”Ÿ
scenario.tags -> sound.tags ãƒãƒƒãƒãƒ³ã‚°

find(sound => sound.tags.some(tag => scenario.tags.includes(tag)))
```

---

### 4.8 image_registry.json

```json
[
  {
    "id": "string",
    "name": "string",
    "tag": "string",
    "category": "bg | chara | item | effect",
    "prompt": "string",
    "path": "string",
    "size": {
      "width": "number",
      "height": "number"
    },
    "createdAt": "ISODate"
  }
]
```

**ä¾‹**:
```json
{
  "id": "img_0001",
  "name": "æ£®ã®æœ",
  "tag": "bg_forest_morning_1280x720",
  "category": "bg",
  "prompt": "fantasy forest morning sunlight",
  "path": "/generated/bg_forest_morning_1280x720.png",
  "size": {
    "width": 1280,
    "height": 720
  },
  "createdAt": "2026-01-07T12:00:00"
}
```

---

### 4.9 game_config.json

```json
{
  "worldType": "string",
  "difficulty": "easy | normal | hard",
  "imageGeneration": true,
  "playerCount": "number",
  "seed": "string"
}
```

---

## 5. ã‚¢ã‚»ãƒƒãƒˆç®¡ç†ä»•æ§˜

### ğŸ· ã‚¿ã‚°å‘½åè¦å‰‡ï¼ˆçµ±ä¸€ï¼‰

```
{category}_{name}_{width}x{height}

ä¾‹:
bg_forest_morning_1280x720
chara_hero_smile_1024x1024
item_magic_sword_512x512
```

### ğŸ“‚ ã‚¢ã‚»ãƒƒãƒˆãƒ‘ã‚¹è¦å‰‡

```
src/assets/{category}/{tag_key}.{ext}
```

**ä¾‹**:

| category | tag_key | path |
|---------|---------|------|
| bg | bg_forest_morning_1280x720 | src/assets/bg/bg_forest_morning_1280x720.png |
| chara | chara_hero_smile_1024x1024 | src/assets/chara/chara_hero_smile_1024x1024.png |
| item | item_magic_sword_512x512 | src/assets/item/item_magic_sword_512x512.png |

### ğŸ”— JSONå‚ç…§ãƒãƒƒãƒ”ãƒ³ã‚°

| å‚ç…§å…ƒ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‚ç…§å…ˆ |
|-------|----------|--------|
| scenario.tags | tag | tags_for_notion.csv |
| scenario.tips | tip_id | tips.json |
| scenario.event(BATTLE) | enemyIDs | enemy.json |
| characters.skills | skill_id | skill.json |
| enemy.skills | skill_id | skill.json |
| skill.iconTag | tag | assets/skill |
| image_registry.tag | tag | assets/* |
| title.backgroundTag | tag | assets/bg |
| sound.tags | tag | scenario.tags |

### ğŸ–¼ AIç”»åƒç”Ÿæˆãƒ•ãƒ­ãƒ¼

**ã‚·ãƒ¼ãƒ³åˆ‡æ›¿æ™‚**:

1. ã‚·ãƒŠãƒªã‚ªJSONã«ç”»åƒæŒ‡å®šãŒã‚ã‚‹ã‹åˆ¤å®š
2. æœªç”Ÿæˆã®å ´åˆï¼š
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
   - ãƒŠãƒãƒãƒŠãƒŠã¸é€ä¿¡
   - ç”»åƒç”Ÿæˆ
3. ç”»åƒã‚’ä¿å­˜
4. image_registry.jsonã¸è¿½è¨˜
5. Galleryã¸å³åæ˜ 

---

## 6. ç”»é¢æ§‹æˆä»•æ§˜

### ğŸŸ¦ æº–å‚™ç”»é¢ï¼ˆGame Setupï¼‰

**ç›®çš„**: ã‚²ãƒ¼ãƒ ã®åˆæœŸæ¡ä»¶ã‚’æ±ºã‚ã‚‹

**è¨­å®šé …ç›®**:

| é …ç›® | å†…å®¹ |
|-----|------|
| ä¸–ç•Œè¦³ | ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ / SF / ç¾ä»£ / è‡ªç”±å…¥åŠ› |
| ãƒ—ãƒ¬ã‚¤äººæ•° | ã‚½ãƒ­ / è¤‡æ•° |
| é›£æ˜“åº¦ | easy / normal / hard |
| ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ç”Ÿæˆ | AIè‡ªå‹• / æ‰‹å‹•è¨­å®š |
| ç”»åƒç”ŸæˆON/OFF | ã‚³ã‚¹ãƒˆç®¡ç†ç”¨ |

**å‡ºåŠ›**: `game_config.json`

---

### ğŸŸ¦ Titleç”»é¢

**è¡¨ç¤ºè¦ç´ **:
- èƒŒæ™¯ç”»åƒ
- ã‚¿ã‚¤ãƒˆãƒ«ãƒ­ã‚´
- ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³
- è¨­å®šãƒœã‚¿ãƒ³

---

### ğŸŸ¦ Chapterã‚³ãƒ¼ãƒ«

**è¡¨ç¤ºå†…å®¹**:
- Chapterç•ªå·
- ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«
- ç°¡æ˜“èª¬æ˜ãƒ†ã‚­ã‚¹ãƒˆ
- æ¼”å‡ºï¼ˆãƒ•ã‚§ãƒ¼ãƒ‰ã€ã‚ºãƒ¼ãƒ ç­‰ï¼‰

---

### ğŸŸ¦ ãƒ—ãƒ­ãƒ­ãƒ¼ã‚°

**å½¹å‰²**:
- ä¸–ç•Œè¦³èª¬æ˜
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å°å…¥
- æœ€åˆã®ã‚·ãƒŠãƒªã‚ªãƒˆãƒªã‚¬ãƒ¼

---

### ğŸŸ¦ ãƒãƒ™ãƒ«ãƒ‘ãƒ¼ãƒˆï¼ˆãƒ¡ã‚¤ãƒ³ç”»é¢ï¼‰

#### Headerã‚¨ãƒªã‚¢

| æ©Ÿèƒ½ | èª¬æ˜ |
|-----|------|
| ä¼šè©±ãƒ­ã‚° | éå»ãƒ­ã‚°é–²è¦§ |
| ã‚ªãƒ¼ãƒˆé€²è¡Œ | é¸æŠè‚¢ã¾ã§è‡ªå‹•å†ç”Ÿ |
| ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | ã‚µãƒ–ç”»é¢è¡¨ç¤º |

**ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…**:
- ğŸ’ ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ
- ğŸ“š Collectionï¼ˆã‚­ãƒ£ãƒ©ãƒ»è¨­å®šï¼‰
- ğŸ–¼ Gallery
  - ç”Ÿæˆç”»åƒä¸€è¦§
  - åå‰ç·¨é›†
  - ã‚¿ã‚°ç·¨é›†ï¼ˆ`bg` / `character` / `item`ï¼‰

#### Mainã‚¨ãƒªã‚¢

**ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹é€ **:
```
[ Effect Layer ]
[ Item Layer ]
[ Character Layer ]
[ Background Layer ]
```

**è¡¨ç¤ºãƒ«ãƒ¼ãƒ«**:
- èƒŒæ™¯ï¼šãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼šä¸‹ä¸­å¤®ã‚¢ãƒ³ã‚«ãƒ¼
- ã‚¢ã‚¤ãƒ†ãƒ å–å¾—æ™‚ï¼š
  - é»’èƒŒæ™¯
  - é€éã‚¢ã‚¤ãƒ†ãƒ ç”»åƒã‚’ä¸­å¤®è¡¨ç¤º

#### Dialogã‚¨ãƒªã‚¢

| é …ç›® | å†…å®¹ |
|-----|------|
| åå‰ | speaker |
| ãƒ†ã‚­ã‚¹ãƒˆ | message |
| é¸æŠè‚¢ | choices |

---

### ğŸŸ¦ ãƒãƒˆãƒ«ãƒ‘ãƒ¼ãƒˆ

**è²¬å‹™**:
- ãƒãƒˆãƒ«é€²è¡Œåˆ¶å¾¡
- enemy Ã— skill ã®è§£é‡ˆ
- ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—
- å‹æ•—åˆ¤å®š
- å ±é…¬åæ˜ 

---

### ğŸŸ¦ ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ‘ãƒ¼ãƒˆ

**è²¬å‹™**:
- image_registryè¡¨ç¤º
- Tipsé–²è¦§
- ã‚¿ã‚°æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿
- é€²æ—å¯è¦–åŒ–

---

## 7. ã‚³ã‚¢æ©Ÿèƒ½ä»•æ§˜

### 7.1 Managersï¼ˆcore/managersï¼‰

#### AssetManager
- ã‚¿ã‚°ã‹ã‚‰ãƒ‘ã‚¹è§£æ±º
- ç”»åƒãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†

#### SoundManager
- ã‚¿ã‚°é§†å‹•BGMåˆ‡æ›¿
- SEå†ç”Ÿ
- ãƒ•ã‚§ãƒ¼ãƒ‰åˆ¶å¾¡

#### SaveManager
- ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- ã‚ªãƒ¼ãƒˆã‚»ãƒ¼ãƒ–
- è¤‡æ•°ã‚¹ãƒ­ãƒƒãƒˆç®¡ç†

#### TagResolver
- ã‚¿ã‚°ãƒãƒƒãƒãƒ³ã‚°
- å„ªå…ˆåº¦è§£æ±º
- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†

#### ScenarioManager
- storyIDé·ç§»åˆ¶å¾¡
- eventå‡¦ç†
- flagç®¡ç†

---

### 7.2 Hooksï¼ˆcore/hooksï¼‰

| Hook | å½¹å‰² |
|------|------|
| useScenario | ã‚·ãƒŠãƒªã‚ªé€²è¡Œåˆ¶å¾¡ |
| useSound | ã‚µã‚¦ãƒ³ãƒ‰å†ç”Ÿ |
| useAsset | ã‚¢ã‚»ãƒƒãƒˆå–å¾— |
| useFlags | ãƒ•ãƒ©ã‚°ç®¡ç† |
| useSaveData | ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰ |
| useTagMatch | ã‚¿ã‚°ãƒãƒƒãƒãƒ³ã‚° |

---

### 7.3 Partå›ºæœ‰Manager

#### NovelManager
- ç¾åœ¨storyIDç®¡ç†
- æ¬¡ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é·ç§»
- eventå‡¦ç†
- sound/imageãƒˆãƒªã‚¬ãƒ¼ç™ºç«

**å…¸å‹æ§‹é€ **:
```typescript
class NovelManager {
  next()
  jump(storyID)
  applyEvent()
  resolveTags()
}
```

#### BattleManager
- ãƒãƒˆãƒ«ã‚¹ãƒ†ãƒ¼ãƒˆç®¡ç†
- ã‚¿ãƒ¼ãƒ³åˆ¶å¾¡
- AIæ€è€ƒ

#### CollectionManager
- ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ã‚½ãƒ¼ãƒˆ
- é€²æ—è¨ˆç®—

---

### 7.4 External Dependencies Checklist

å„ãƒ‘ãƒ¼ãƒˆã®README.mdã«ä»¥ä¸‹ã‚’è¨˜è¼‰ï¼š

#### Novel Part

**Managers (core/managers)**:
- [ ] ScenarioManager
- [ ] AssetManager
- [ ] SoundManager
- [ ] TagManager
- [ ] SaveManager

**Hooks (core/hooks)**:
- [ ] useScenario
- [ ] useSound
- [ ] useAsset
- [ ] useFlags
- [ ] useSaveData
- [ ] useTagMatch

**Data (data/)**:
- [ ] scenario.json
- [ ] characters.json
- [ ] sound.json
- [ ] image_registry.json

**Utilities**:
- [ ] storyID parser
- [ ] tag resolver

---

## 8. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»

### ğŸ“… ã‚¢ã‚¸ãƒ£ã‚¤ãƒ«æ–¹é‡ï¼ˆãƒãƒ™ãƒ«ãƒ‘ãƒ¼ãƒˆå…ˆè¡Œï¼‰

#### Sprint 1ï¼ˆå„ªå…ˆï¼‰

âœ… **ãƒãƒ™ãƒ«ãƒ‘ãƒ¼ãƒˆ**
- ã‚·ãƒŠãƒªã‚ªé€²è¡Œ
- ã‚¿ã‚° â†’ ç”»åƒè¡¨ç¤º
- ã‚¿ã‚° â†’ BGMåˆ‡æ›¿ï¼ˆãƒ€ãƒŸãƒ¼ï¼‰
- Galleryç™»éŒ²
- ã‚»ãƒ¼ãƒ–ãƒ­ãƒ¼ãƒ‰ï¼ˆæœ€ä½é™ï¼‰

#### Sprint 2

â¬œ **ãƒãƒˆãƒ«ãƒ‘ãƒ¼ãƒˆ**
- æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ åŸºç›¤
- æ•µAIå®Ÿè£…
- ã‚¹ã‚­ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

#### Sprint 3

â¬œ **Collection**
- ã‚®ãƒ£ãƒ©ãƒªãƒ¼å®Œæˆ
- Tipsè¡¨ç¤º
- é€²æ—ç®¡ç†

#### Sprint 4

â¬œ **çµ±åˆãƒ»æœ€é©åŒ–**
- ãƒ‘ãƒ¼ãƒˆé€£æº
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- PWAå¯¾å¿œ

---

## 9. è¨­è¨ˆåŸå‰‡ã¨ãƒ«ãƒ¼ãƒ«

### âœ… è¨­è¨ˆæ€æƒ³

| åŸå‰‡ | å†…å®¹ |
|-----|------|
| **ã‚¢ã‚»ãƒƒãƒˆé§†å‹•** | ã™ã¹ã¦ã‚¿ã‚°ã§åˆ¶å¾¡ |
| **JSONä¸­å¿ƒ** | ãƒ‡ãƒ¼ã‚¿ãŒä»•æ§˜ã®æ­£ |
| **ãƒ‘ãƒ¼ãƒˆåˆ†é›¢** | å®Œå…¨ç‹¬ç«‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ– |
| **å†åˆ©ç”¨æ€§** | åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ç§»æ¤å¯èƒ½ |
| **ã‚¿ã‚°çµ±ä¸€** | Notion/CSVé‹ç”¨ã¨ã®æ•´åˆ |

### ğŸš« ç¦æ­¢äº‹é …

#### Partså±¤

- âŒ æ°¸ç¶šãƒ‡ãƒ¼ã‚¿ç®¡ç†ç¦æ­¢ï¼ˆcoreã¸ï¼‰
- âŒ Assetç›´æ¥å‚ç…§ç¦æ­¢ï¼ˆAssetManagerçµŒç”±ï¼‰
- âŒ ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç›´æ¥æ“ä½œç¦æ­¢
- âŒ UIã¨ãƒ­ã‚¸ãƒƒã‚¯ã®æ··åœ¨ç¦æ­¢

#### Coreå±¤

- âŒ UIãƒ­ã‚¸ãƒƒã‚¯ç¦æ­¢
- âŒ Partä¾å­˜ç¦æ­¢
- âŒ å‰¯ä½œç”¨ã¯Managerã«é›†ç´„

#### Dataå±¤

- âŒ JSONæ§‹é€ ã‚’å‹æ‰‹ã«å¤‰æ›´ã—ãªã„
- âŒ tagå‘½åè¦å‰‡ã‚’ç ´ã‚‰ãªã„
- âŒ pathç›´æ›¸ãç¦æ­¢ï¼ˆtagè§£æ±ºï¼‰
- âŒ IDé‡è¤‡ç¦æ­¢

### ğŸ“ å‘½åè¦å‰‡

#### storyID

```
EP_CH_TXT
ä¾‹: 01_01_01
```

#### tags

```
{category}_{name}_{width}x{height}
ä¾‹: bg_forest_morning_1280x720
```

#### ãƒ•ã‚¡ã‚¤ãƒ«å

```
{tag_key}.{ext}
ä¾‹: bg_forest_morning_1280x720.png
```

### ğŸ”§ å®Ÿè£…ãƒ«ãƒ¼ãƒ«

#### Screensï¼ˆUIå°‚ç”¨ï¼‰

- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- å…¥åŠ›ã‚¤ãƒ™ãƒ³ãƒˆ
- è¡¨ç¤ºåˆ¶å¾¡ã®ã¿
- âŒ çŠ¶æ…‹é·ç§»ãƒ­ã‚¸ãƒƒã‚¯ç¦æ­¢

#### Managersï¼ˆçŠ¶æ…‹ã¨é€²è¡Œåˆ¶å¾¡ï¼‰

- ç¾åœ¨çŠ¶æ…‹ç®¡ç†
- é·ç§»åˆ¶å¾¡
- eventå‡¦ç†
- triggerç™ºç«

### ğŸ¯ å“è³ªåŸºæº–

- **å¯èª­æ€§**: ã‚³ãƒ¼ãƒ‰ã‚ˆã‚ŠJSONãŒèª­ã¿ã‚„ã™ã„
- **ä¿å®ˆæ€§**: ãƒ‘ãƒ¼ãƒˆå·®ã—æ›¿ãˆãŒå®¹æ˜“
- **æ‹¡å¼µæ€§**: æ–°æ©Ÿèƒ½è¿½åŠ ãŒå®‰å…¨
- **å†åˆ©ç”¨æ€§**: åˆ¥ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ãˆã‚‹
- **ãƒ†ã‚¹ãƒˆæ€§**: ãƒ¢ãƒƒã‚¯ä½œæˆãŒå®¹æ˜“

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯

- **Notioné€£æº**: tags_for_notion.csvé‹ç”¨
- **React + Vite**: å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **Google AI Studio**: APIä»•æ§˜
- **ãƒŠãƒãƒãƒŠãƒŠ**: ç”»åƒç”ŸæˆAPI

---

## ğŸ“‹ å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|----------|------|---------|
| v2.0 | 2026-01-07 | çµ±åˆè¦ä»¶å®šç¾©æ›¸ãƒ»ä»•æ§˜æ›¸ä½œæˆ |
| v1.1 | 2026-01-06 | ã‚¢ã‚»ãƒƒãƒˆé§†å‹•è¨­è¨ˆæ‹¡å¼µ |
| v1.0 | 2026-01-05 | åˆç‰ˆä½œæˆ |

---

**ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å”¯ä¸€ã®çœŸå®Ÿã®æƒ…å ±æºï¼ˆSingle Source of Truthï¼‰ã§ã™ã€‚**
